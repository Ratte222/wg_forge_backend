// <auto-generated />
using DAL.EF;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

namespace DAL.Migrations
{
    [DbContext(typeof(CatContext))]
    [Migration("20210716112642_FixMtMRelationship")]
    partial class FixMtMRelationship
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("Relational:MaxIdentifierLength", 128)
                .HasAnnotation("ProductVersion", "5.0.7")
                .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

            modelBuilder.Entity("DAL.Entities.Cat", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("Color")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("TailLength")
                        .HasColumnType("int");

                    b.Property<int>("WhiskersLength")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("Cats");
                });

            modelBuilder.Entity("DAL.Entities.CatColorInfo", b =>
                {
                    b.Property<string>("Color")
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)")
                        .HasColumnName("color");

                    b.Property<int>("Count")
                        .HasColumnType("int")
                        .HasColumnName("count");

                    b.HasKey("Color");

                    b.ToTable("cat_colors_info");
                });

            modelBuilder.Entity("DAL.Entities.CatOwner", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<int>("Age")
                        .HasColumnType("int");

                    b.Property<int>("CatPoints")
                        .HasColumnType("int");

                    b.Property<string>("Login")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)");

                    b.Property<string>("Password")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("Id");

                    b.ToTable("CatOwners");
                });

            modelBuilder.Entity("DAL.Entities.CatPhoto", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<long>("CatId")
                        .HasColumnType("bigint");

                    b.Property<string>("CatPhotoName")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("CatId");

                    b.ToTable("CatPhotos");
                });

            modelBuilder.Entity("DAL.Entities.CatStat", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<decimal>("TailLengthMean")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("tail_length_mean");

                    b.Property<decimal>("TailLengthMedian")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("tail_length_median");

                    b.Property<int>("TailLengthMode")
                        .HasColumnType("int")
                        .HasColumnName("tail_length_mode");

                    b.Property<decimal>("WiskersLengthMean")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("whiskers_length_mean");

                    b.Property<decimal>("WiskersLengthMedian")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("whiskers_length_median");

                    b.Property<int>("WiskersLengthMode")
                        .HasColumnType("int")
                        .HasColumnName("whiskers_length_mode");

                    b.HasKey("Id");

                    b.ToTable("cats_stat");
                });

            modelBuilder.Entity("DAL.Entities.CatsAndOwners", b =>
                {
                    b.Property<long>("CatOwnersId")
                        .HasColumnType("bigint");

                    b.Property<long>("CatsId")
                        .HasColumnType("bigint");

                    b.HasKey("CatOwnersId", "CatsId");

                    b.HasIndex("CatsId");

                    b.ToTable("CatsAndOwners");
                });

            modelBuilder.Entity("DAL.Entities.CatPhoto", b =>
                {
                    b.HasOne("DAL.Entities.Cat", "Cat")
                        .WithMany("CatPhotos")
                        .HasForeignKey("CatId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Cat");
                });

            modelBuilder.Entity("DAL.Entities.CatsAndOwners", b =>
                {
                    b.HasOne("DAL.Entities.CatOwner", "CatOwner")
                        .WithMany("CatsAndOwners")
                        .HasForeignKey("CatOwnersId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DAL.Entities.Cat", "Cat")
                        .WithMany("CatsAndOwners")
                        .HasForeignKey("CatsId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Cat");

                    b.Navigation("CatOwner");
                });

            modelBuilder.Entity("DAL.Entities.Cat", b =>
                {
                    b.Navigation("CatPhotos");

                    b.Navigation("CatsAndOwners");
                });

            modelBuilder.Entity("DAL.Entities.CatOwner", b =>
                {
                    b.Navigation("CatsAndOwners");
                });
#pragma warning restore 612, 618
        }
    }
}
